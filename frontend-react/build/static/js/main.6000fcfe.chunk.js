(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){},287:function(e,t,a){e.exports=a(407)},401:function(e,t,a){},402:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),s=a.n(i),o=a(158),l=a(33),c=a(97),d=a(31),m=a(47),u=a(239),h={},p=a(80),g=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},f={isAuthenticated:!1,user:{}},E={data:[],isFetching:!1,error:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;return"LOAD_USERS_REQUEST"===t.type?{isFetching:!0,data:[],error:!1}:"LOAD_USERS_SUCCESS"===t.type?{isFetching:!1,data:t.data,error:!1}:"LOAD_USERS_ERROR"===t.type?{isFetching:!1,data:[],error:!0}:e},b={data:[],isFetching:!1,error:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;return"LOAD_PROFILE_REQUEST"===t.type?{isFetching:!0,data:[],error:!1}:"LOAD_PROFILE_SUCCESS"===t.type?{isFetching:!1,data:t.data,error:!1}:"LOAD_PROFILE_ERROR"===t.type?{isFetching:!1,data:[],error:!0}:e},S={data:[],isFetching:!1,error:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return"LOAD_ADMIN_EXAMS_REQUEST"===t.type?{isFetching:!0,data:[],error:!1}:"LOAD_ADMIN_EXAMS_SUCCESS"===t.type?{isFetching:!1,data:t.data,error:!1}:"LOAD_ADMIN_EXAMS_ERROR"===t.type?{isFetching:!1,data:[],error:!0}:e},O={data:[],isFetching:!1,error:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return"LOAD_EXAMS_REQUEST"===t.type?{isFetching:!0,data:[],error:!1}:"LOAD_EXAMS_SUCCESS"===t.type?{isFetching:!1,data:t.data,error:!1}:"LOAD_EXAMS_ERROR"===t.type?{isFetching:!1,data:[],error:!0}:e},w={data:[],isFetching:!1,error:!1,file_id:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;return"LOAD_CHATDIALOG_REQUEST"===t.type?{isFetching:!0,data:[],error:!1,file_id:t.file_id}:"LOAD_CHATDIALOG_SUCCESS"===t.type?{isFetching:!1,data:t.data,error:!1,file_id:t.file_id}:"LOAD_CHATDIALOG_ERROR"===t.type?{isFetching:!1,data:[],error:!0}:e},k=Object(m.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(p.a)({},e,{isAuthenticated:!g(t.payload),user:t.payload});default:return e}},users:v,profile:y,adminExams:C,exams:x,chatDialog:j}),R=a(268),F=a(37),N=a.n(F),T=a(46),A=function(e){return{type:"LOAD_USERS_SUCCESS",data:e}},M=function(e){return{type:"LOAD_PROFILE_SUCCESS",data:e}},I=function(e){return{type:"LOAD_ADMIN_EXAMS_SUCCESS",data:e}},D=function(e){return{type:"LOAD_EXAMS_SUCCESS",data:e}},_=function(e,t){return{type:"LOAD_CHATDIALOG_SUCCESS",data:e,file_id:t}},P=a(23),U=a.n(P),L=N.a.mark(z);function z(e,t){var a;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("usersSagas"),t.next=3,e.get("http://3.19.35.106:4444/api/users/");case 3:return a=t.sent,console.log(a.data),t.next=7,Object(T.a)(A(a.data));case 7:case"end":return t.stop()}},L)}U.a.config();var W=z,q=N.a.mark(B);function B(e,t){var a;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("profileSagas"),t.next=3,e.get("http://3.19.35.106:4444/api/users/me");case 3:return a=t.sent,console.log("eeeee",a.data),t.next=7,Object(T.a)(M(a.data));case 7:case"end":return t.stop()}},q)}U.a.config();var V=B,H=N.a.mark(Y);function Y(e,t){var a;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("http://3.19.35.106:4444/api/files/");case 2:return a=t.sent,console.log(a.data),t.next=6,Object(T.a)(D(a.data));case 6:case"end":return t.stop()}},H)}U.a.config();var G=Y,J=N.a.mark(Q);function Q(e){var t;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.get("http://3.19.35.106:4444/api/files/");case 2:return t=a.sent,console.log(t.data),a.next=6,Object(T.a)(I(t.data));case 6:case"end":return a.stop()}},J)}U.a.config();var X=Q,$=N.a.mark(K);function K(e,t){var a;return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.get("http://3.19.35.106:4444/api/comments/file/"+t.file_id);case 2:return a=n.sent,n.next=5,Object(T.a)(_(a.data,t.file_id));case 5:case"end":return n.stop()}},$)}U.a.config();var Z=K,ee=a(18),te=a.n(ee),ae=N.a.mark(ne);function ne(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.b)("LOAD_USERS_REQUEST",W,te.a);case 2:return e.next=4,Object(T.b)("LOAD_PROFILE_REQUEST",V,te.a);case 4:return e.next=6,Object(T.b)("LOAD_ADMIN_EXAMS_REQUEST",X,te.a);case 6:return e.next=8,Object(T.b)("LOAD_EXAMS_REQUEST",G,te.a);case 8:return e.next=10,Object(T.b)("LOAD_CHATDIALOG_REQUEST",Z,te.a);case 10:case"end":return e.stop()}},ae)}var re=ne,ie=Object(R.a)(),se=Object(m.e)(k,{},Object(m.d)(Object(m.a)(u.a,ie)));ie.run(re);var oe=se,le=a(144),ce=a.n(le),de=function(e){e?te.a.defaults.headers.common.Authorization=e:delete te.a.defaults.headers.common.Authorization};U.a.config();var me=function(e){return{type:"SET_CURRENT_USER",payload:e}},ue=function(e){return function(t){localStorage.removeItem("jwtToken"),de(!1),t(me({})),e.push("/login")}},he=a(24),pe=a(25),ge=a(27),fe=a(26),Ee=a(9),ve=a(28),be=a(17),ye=a(420),Se=a(467),Ce=a(213),Oe=a(209),xe=a(211),we=a(143),je=a(208),ke=a(263),Re=a.n(ke),Fe=a(466),Ne=a(3),Te=a(76),Ae=a(476),Me=a(454),Ie=a(468),De=a(182),_e=a.n(De),Pe=a(259),Ue=a.n(Pe),Le=a(258),ze=a.n(Le),We=a(419),qe=a(469),Be=a(228),Ve=a(261),He=a.n(Ve),Ye=a(189),Ge=a.n(Ye),Je=a(190),Qe=a.n(Je),Xe=a(126),$e=a.n(Xe),Ke=a(260),Ze=a.n(Ke),et=a(4),tt=a.n(et),at=a(179),nt=a(234),rt=a(206),it=a(236),st=a(207),ot=a(455),lt=a(450),ct=a(456),dt=a(451),mt=a(90),ut=a(449),ht=a(210),pt=function(e){function t(){var e;return Object(he.a)(this,t),(e=Object(ge.a)(this,Object(fe.a)(t).call(this))).state={username:"",type:0,completename:"",cpf:"",address:"",crmv:"",technicalSupport:"",phone:"",errors:{},isFetching:!1},e.handleInputChange=e.handleInputChange.bind(Object(Ee.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(Ee.a)(e)),e.handleSelectTypeChange=e.handleSelectTypeChange.bind(Object(Ee.a)(e)),e}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(be.a)({},e.target.name,e.target.value))}},{key:"handleSelectTypeChange",value:function(e){console.log("e ",e),this.setState({type:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,type:this.state.type,completename:this.state.completename,cpf:this.state.cpf,address:this.state.address,phone:this.state.phone,crmv:this.state.crmv,technicalSupport:this.state.technicalSupport};this.setState({isFetching:!0}),this.props.registerUser(t,this.props.history)}},{key:"componentWillReceiveProps",value:function(e){if(e.auth.isAuthenticated,this.setState({isFetching:!1}),e.errors){var t=e.errors.errors;console.log(t);var a={};if(t&&t.length){for(var n=0;n<t.length;n++)console.log(t[n].param),"username"===t[n].param?a.username=t[n].msg:"password"===t[n].param?a.password=t[n].msg:"confirmPassword"===t[n].param?a.confirmPassword=t[n].msg:"type"===t[n].param&&(a.type=t[n].msg);console.log(a),this.setState({errors:a})}}}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&!this.props.auth.user.admin&&this.props.history.push("/")}},{key:"render",value:function(){var e=this.state.errors,t=gt();return r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh",marginTop:50}},r.a.createElement(ut.a,{item:!0,xs:5},r.a.createElement(lt.a,{className:t.card},r.a.createElement(dt.a,null,r.a.createElement(mt.a,{variant:"h5",component:"h2"},"Casdastrar novo usu\xe1rio"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(rt.a,{className:t.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"type-error"},"Tipo de Usu\xe1rio"),r.a.createElement(nt.a,{value:this.state.type,onChange:this.handleSelectTypeChange,name:"type"},r.a.createElement(je.a,{value:0},r.a.createElement("em",null,"Escolha tipo de usu\xe1rio")),r.a.createElement(je.a,{value:1},"Cliente"),r.a.createElement(je.a,{value:2},"Cl\xednica"),r.a.createElement(je.a,{value:3},"Veterin\xe1rio"),r.a.createElement(je.a,{value:4},"Administrador")),e.type&&r.a.createElement(ot.a,{id:"type-text",style:{color:"red"}},e.type)),r.a.createElement(rt.a,{className:t.formControl,fullWidth:!0,margin:tt.a.margin},r.a.createElement(it.a,{htmlFor:"username"},"E-mail"),r.a.createElement(st.a,Object(be.a)({type:"text",id:"username",value:this.state.username,name:"username",onChange:this.handleInputChange,"aria-describedby":"username-text"},"value",this.state.username)),e.username&&r.a.createElement(ot.a,{id:"username-text",style:{color:"red"}},e.username)),r.a.createElement(rt.a,{className:t.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"completename"},"Nome Completo"),r.a.createElement(st.a,Object(be.a)({type:"text",id:"completename",value:this.state.completename,name:"completename",onChange:this.handleInputChange,"aria-describedby":"completename-text"},"value",this.state.completename)),e.completename&&r.a.createElement(ot.a,{id:"completename-text",style:{color:"red"}},e.completename)),r.a.createElement(rt.a,{className:t.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"cpf"},"CPF/CNPJ"),r.a.createElement(st.a,Object(be.a)({type:"text",id:"cpf",value:this.state.cpf,name:"cpf",onChange:this.handleInputChange,"aria-describedby":"cpf-text"},"value",this.state.cpf)),e.cpf&&r.a.createElement(ot.a,{id:"cpf-text",style:{color:"red"}},e.cpf)),3!=this.state.type&&r.a.createElement(rt.a,{className:t.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"address"},"Endere\xe7o"),r.a.createElement(st.a,Object(be.a)({type:"text",id:"address",value:this.state.address,name:"address",onChange:this.handleInputChange,"aria-describedby":"address-text"},"value",this.state.address)),e.address&&r.a.createElement(ot.a,{id:"address-text",style:{color:"red"}},e.address)),r.a.createElement(rt.a,{className:t.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"phone"},"Telephone de Contato"),r.a.createElement(st.a,Object(be.a)({type:"text",id:"phone",value:this.state.phone,name:"phone",onChange:this.handleInputChange,"aria-describedby":"phone-text"},"value",this.state.phone)),e.phone&&r.a.createElement(ot.a,{id:"phone-text",style:{color:"red"}},e.phone)),(2==this.state.type||3==this.state.type)&&r.a.createElement(rt.a,{className:t.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"crmv"},"CRMV"),r.a.createElement(st.a,Object(be.a)({type:"text",id:"crmv",value:this.state.crmv,name:"crmv",onChange:this.handleInputChange,"aria-describedby":"crmv-text"},"value",this.state.crmv)),e.crmv&&r.a.createElement(ot.a,{id:"crmv-text",style:{color:"red"}},e.crmv)),2==this.state.type&&r.a.createElement(rt.a,{className:t.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"technicalSupport"},"Respons\xe1vel Tecnico"),r.a.createElement(st.a,Object(be.a)({type:"text",id:"technicalSupport",value:this.state.technicalSupport,name:"technicalSupport",onChange:this.handleInputChange,"aria-describedby":"technicalSupport-text"},"value",this.state.technicalSupport)),e.technicalSupport&&r.a.createElement(ot.a,{id:"technicalSupport-text",style:{color:"red"}},e.technicalSupport)),r.a.createElement(ct.a,null,!this.state.isFetching&&r.a.createElement(Oe.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit"},"Cadastrar"),this.state.isFetching&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:30}},r.a.createElement(ht.a,null))))))))}}]),t}(n.Component),gt=function(e){return{button:{},input:{display:"none"},formControl:{marginTop:200}}},ft=Object(d.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){localStorage.getItem("jwtToken")?(te.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),console.log(te.a.defaults.headers.common.Authorization),te.a.post("http://3.19.35.106:4444/api/users/register",e).then(function(e){return t.push("/users?registrationSucessfull=true")}).catch(function(e){console.log(JSON.stringify(e.response)),a({type:"GET_ERRORS",payload:e.response.data})})):t.push("/login")}}})(Object(c.e)(pt),Object(at.a)(gt)),Et=a(105),vt=a.n(Et),bt=a(72),yt=a.n(bt),St=a(237),Ct=a(418);U.a.config();var Ot=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={collapse:!0,isFetchingForDeleting:!1},a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginLeft:70,marginTop:60,width:"100%",height:"100%"}},this.props.isFetching||this.state.isFetchingForDeleting&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{flex:1,marginTop:100,justifyContent:"center",alignContent:"center",alignItems:"center"}},r.a.createElement(ht.a,null)),!this.props.isFetching&&r.a.createElement(Ct.a,Object.assign({in:!this.props.isFetching&&!this.state.isFetchingForDeleting,style:{transformOrigin:"0 0 0"}},this.props.isFetching?{}:{timeout:1e3}),r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement("div",{style:{flex:1,alignContent:"center",margin:10}},r.a.createElement(Oe.a,{onClick:function(){e.setState({collapse:!e.state.collapse})}},this.state.collapse?"Ver todas Colunas":"Ocultar Colunas")),r.a.createElement(vt.a,{title:"Usu\xe1rios",columns:this.state.collapse?jt:wt,data:this.props.users,editable:{onRowUpdate:function(t,a){return new Promise(function(n,r){e.state.collapse?(alert("Habilite todas as colunas para realizar essa a\xe7\xe3o"),n()):te.a.patch("http://3.19.35.106:4444/api/users/"+a._id,t).then(function(t){e.props.loadUsers(),n()}).catch(function(e){r()})})},onRowDelete:function(t){return new Promise(function(a,n){setTimeout(function(){var r=prompt("Tem certeza que est\xe1 querendo deletar o usu\xe1rio "+t.completename+"? Ser\xe3o eliminados todos os exames e bate-papos desse usu\xe1rio. Se quiser prosseguir com a elimina\xe7\xe3o deste usu\xe1rio por favor, digite a sua senha de administrador:");null!=r&&r&&r.length>0&&(e.setState({isFetchingForDeleting:!0}),te.a.delete("http://3.19.35.106:4444/api/users/"+t._id,{data:{password:r}}).then(function(t){setTimeout(function(){e.setState({isFetchingForDeleting:!1}),window.location.reload()},5e3),a(t)}).catch(function(t){setTimeout(function(){e.setState({isFetchingForDeleting:!1}),window.location.reload()},5e3),n(t)})),a()},1e3)})}},detailPanel:[{tooltip:"Ver Exames",render:function(t){return r.a.createElement(Ct.a,Object.assign({in:!e.props.isFetching,style:{transformOrigin:"0 0 0"}},e.props.isFetching?{}:{timeout:1e3}),r.a.createElement("div",{style:{fontSize:100,textAlign:"center",color:"white",backgroundColor:"#43A047",padding:20}},r.a.createElement(vt.a,{title:"Exames",columns:kt,data:t.files,actions:[{icon:"remove_red_eye",tooltip:"Visualizar Arquivo",onClick:function(e,t){te()("http://3.19.35.106:4444/api/files/"+t._id,{method:"GET",responseType:"blob"}).then(function(e){var a=new Blob([e.data],{type:"application/pdf"}),n=URL.createObjectURL(a),r=document.createElement("a");r.download=t.displayName+"."+t.type,r.href=n,r.click()}).catch(function(e){console.log(e)})}}],editable:{onRowDelete:function(t){return new Promise(function(a,n){te.a.delete("http://3.19.35.106:4444/api/files/"+t._id).then(function(t){e.props.loadAdminExams(),a(t)}).catch(function(e){n(e)})})}},options:{actionsColumnIndex:-1,exportButton:!0,exportFileName:"Lista de Exames"},localization:{header:{actions:"A\xe7\xf5es"},body:{emptyDataSourceMessage:"Sem dados para mostrar",editRow:{deleteText:"Tem certeza que quer deletar o exame?"}},toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar",exportTitle:"Exportar CSV",exportAriaLabel:"Exportar CSV",exportName:"Exportar CSV"},pagination:{labelRowsSelect:"Filas",labelDisplayedRows:"{count} de {from}-{to} ",firstTooltip:"Primeira",previousTooltip:"Anterior",nextTooltip:"Seguinte",lastTooltip:"\xdaltima P\xe1gina"}}})))}}],options:{actionsColumnIndex:-1,exportButton:!0,exportFileName:"Usuarios"},localization:{header:{actions:"A\xe7\xf5es"},body:{emptyDataSourceMessage:"Sem dados para mostrar",editRow:{deleteText:"Tem certeza que quer deletar o usu\xe1rio?"}},toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar",exportTitle:"Exportar CSV",exportAriaLabel:"Exportar CSV",exportName:"Exportar CSV"},pagination:{labelRowsSelect:"Filas",labelDisplayedRows:"{count} de {from}-{to} ",firstTooltip:"Primeira",previousTooltip:"Anterior",nextTooltip:"Seguinte",lastTooltip:"\xdaltima P\xe1gina"}}})))))}}]),t}(n.Component);function xt(e){return yt()(e).format("DD/MM/YYYY hh:mm A")}var wt=[{title:"E-mail",field:"username"},{title:"Nome",field:"completename"},{title:"Tipo",field:"type",lookup:{1:"Cliente",2:"Cl\xednica",3:"Veterin\xe1rio",4:"Admin"}},{title:"CPF/CNPJ",field:"cpf"},{title:"Endere\xe7o",field:"address"},{title:"Atividade",field:"lastActivity",type:"datetime",render:function(e){return r.a.createElement(St.a,{title:xt(e.lastActivity)},r.a.createElement("div",null," ",(t=e.lastActivity,yt()(t).format("DD/MM/YY"))));var t}},{title:"Fone",field:"phone"},{title:"Respons\xe1vel  Tecnico",field:"technicalSupport"},{title:"CRMV",field:"crmv"}],jt=[{title:"Nome",field:"completename"},{title:"Tipo",field:"type",lookup:{1:"Cliente",2:"Cl\xednica",3:"Veterin\xe1rio",4:"Admin"}},{title:"Atividade",field:"lastActivity",type:"datetime",render:function(e){return r.a.createElement(St.a,{title:xt(e.lastActivity)},r.a.createElement("div",null," ",xt(e.lastActivity)))}}],kt=[{title:"Nome",field:"displayName"},{title:"Tipo",field:"type"},{title:"Lido",field:"read",type:"boolean"},{title:"Data subida",field:"lastActivity",type:"datetime",render:function(e){return r.a.createElement(St.a,{title:xt(e.lastActivity)},r.a.createElement("div",null," ",xt(e.lastActivity)))}}],Rt=Object(d.b)(function(e){return{isFetching:e.users.isFetching,users:e.users.data,error:e.users.error}},function(e){return{loadUsers:function(){return e({type:"LOAD_USERS_REQUEST"})}}})(Ot),Ft=a(269),Nt=a(471),Tt=a(472),At=a(460),Mt=a(116);U.a.config();var It=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={isEditing:!1,tab:0,errors:!1,message:!1,isSaving:!1,password:"",confirmPassword:""},a.handleTabsChange=a.handleTabsChange.bind(Object(Ee.a)(a)),a.changeToEditProfile=a.changeToEditProfile.bind(Object(Ee.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(Ee.a)(a)),a.saveProfile=a.saveProfile.bind(Object(Ee.a)(a)),a.postPassword=a.postPassword.bind(Object(Ee.a)(a)),a.handleInputPasswordChange=a.handleInputPasswordChange.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.loadProfile()}},{key:"postPassword",value:function(){var e=this;this.state.password&&this.state.confirmPassword?this.state.password.length<6?this.setState({errors:"A senha deve ter minimo 6 carateres"}):this.state.password!=this.state.confirmPassword?this.setState({errors:"A senhas n\xe3o coincidem"}):(this.setState({isSaving:!0}),te.a.post("http://3.19.35.106:4444/api/users/reset_password",{password:this.state.password,confirmPassword:this.state.confirmPassword}).then(function(t){e.setState({password:"",confirmPassword:"",isSaving:!1,message:"Sua senha foi redefinida com sucesso"})}).catch(function(t){t&&t.response&&e.setState({errors:JSON.stringify(t.response),isSaving:!1})})):this.setState({errors:"Por favor, escrever senha e confirmar a mesma"})}},{key:"saveProfile",value:function(){var e=this;this.setState({isSaving:!0}),te.a.post("http://3.19.35.106:4444/api/users/me",this.props.profile).then(function(t){e.props.profile.address=t.data.address,e.props.profile.cpf=t.data.cpf,e.props.profile.completename=t.data.completename,e.setState({isSaving:!1,isEditing:!1})}).catch(function(t){e.setState({errors:JSON.stringify(t.response)})})}},{key:"handleInputChange",value:function(e){var t=e.target.name;this.props.profile[t]=e.target.value,this.setState({})}},{key:"handleInputPasswordChange",value:function(e){this.setState(Object(be.a)({},e.target.name,e.target.value))}},{key:"handleSelectTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"handleSubmitProfile",value:function(e){e.preventDefault()}},{key:"handleTabsChange",value:function(e,t){this.setState({tab:t})}},{key:"changeToEditProfile",value:function(){this.setState({isEditing:!0})}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:120,marginLeft:80,width:"100%",height:"100%",flex:1,justifyContent:"center",alignContent:"center"}},r.a.createElement(mt.a,null,"Meu Perfil"),r.a.createElement(Mt.a,{style:{marginTop:10,width:"70%"}},r.a.createElement(Tt.a,{value:this.state.tab,onChange:this.handleTabsChange,"aria-label":"Meu Perfil"},r.a.createElement(At.a,Object.assign({label:"Detalhes Conta"},Pt(0))),r.a.createElement(At.a,Object.assign({label:"Modificar Senha"},Pt(1)))),r.a.createElement(_t,{value:this.state.tab,index:0},!this.props.isFetching&&r.a.createElement("form",{onSubmit:this.handleSubmitProfile},r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"type-error"},"Tipo de Usu\xe1rio"),r.a.createElement(nt.a,{value:this.props.profile.type,onChange:this.handleSelectTypeChange,name:"type",disabled:!0},r.a.createElement(je.a,{value:0},r.a.createElement("em",null,"Escolha tipo de usu\xe1rio")),r.a.createElement(je.a,{value:1},"Cliente"),r.a.createElement(je.a,{value:2},"Cl\xednica"),r.a.createElement(je.a,{value:3},"Veterin\xe1rio"),r.a.createElement(je.a,{value:4},"Administrador"))),r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0,margin:tt.a.margin},r.a.createElement(it.a,{htmlFor:"username"},"E-mail"),r.a.createElement(st.a,{type:"text",id:"username",name:"username",onChange:this.handleInputChange,"aria-describedby":"username-text",value:this.props.profile.username,disabled:!0})),r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"completename"},"Nome Completo"),r.a.createElement(st.a,{type:"text",id:"completename",name:"completename",onChange:this.handleInputChange,"aria-describedby":"completename-text",value:this.props.profile.completename,disabled:!this.state.isEditing}),this.props.error.completename&&r.a.createElement(ot.a,{id:"completename-text"},this.props.error.completename)),r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"cpf"},"CPF/CNPJ"),r.a.createElement(st.a,{type:"text",id:"cpf",name:"cpf","aria-describedby":"cpf-text",onChange:this.handleInputChange,value:this.props.profile.cpf,disabled:!this.state.isEditing}),this.props.error.cpf&&r.a.createElement(ot.a,{id:"cpf-text"},this.props.error.cpf)),r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"address"},"Endere\xe7o"),r.a.createElement(st.a,{type:"text",id:"address",name:"address","aria-describedby":"address-text",onChange:this.handleInputChange,value:this.props.profile.address,disabled:!this.state.isEditing}),this.props.error.address&&r.a.createElement(ot.a,{id:"address-text"},this.props.error.address)),!this.props.profile.vet&&r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"address"},"Endere\xe7o"),r.a.createElement(st.a,{type:"text",id:"address",name:"address","aria-describedby":"address-text",onChange:this.handleInputChange,value:this.props.profile.address,disabled:!this.state.isEditing}),this.props.error.address&&r.a.createElement(ot.a,{id:"address-text"},this.props.error.address)),(this.props.profile.vet||this.props.profile.clinic)&&r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"cmrv"},"CMRV"),r.a.createElement(st.a,{type:"text",id:"cmrv",name:"cmrv","aria-describedby":"cmrv-text",onChange:this.handleInputChange,value:this.props.profile.cmrv,disabled:!this.state.isEditing}),this.props.error.cmrv&&r.a.createElement(ot.a,{id:"cmrv-text"},this.props.error.cmrv)),this.props.profile.clinic&&r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"technicalSupport"},"Respons\xe1vel T\xe9cnico"),r.a.createElement(st.a,{type:"text",id:"technicalSupport",name:"technicalSupport","aria-describedby":"technicalSupport-text",onChange:this.handleInputChange,value:this.props.profile.address,disabled:!this.state.isEditing}),this.props.error.technicalSupport&&r.a.createElement(ot.a,{id:"address-text"},this.props.error.technicalSupport)),r.a.createElement(ct.a,null,!this.state.isSaving&&!this.state.isEditing&&r.a.createElement(Oe.a,{onClick:this.changeToEditProfile,fullWidth:!0,variant:"outlined",color:"primary",type:"submit"},"Modificar Perfil"),!this.state.isSaving&&this.state.isEditing&&r.a.createElement(Oe.a,{onClick:this.saveProfile,fullWidth:!0,variant:"contained",color:"primary",type:"submit"},"Salvar"),this.state.isSaving&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:30}},r.a.createElement(ht.a,null))))),r.a.createElement(_t,{value:this.state.tab,index:1},!this.props.isFetching&&r.a.createElement("form",{onSubmit:this.handleSubmitProfile},r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0,margin:tt.a.margin},r.a.createElement(it.a,{htmlFor:"password"},"Nova senha"),r.a.createElement(st.a,{type:"password",id:"password",name:"password",onChange:this.handleInputPasswordChange,"aria-describedby":"password-text",value:this.state.password})),r.a.createElement(rt.a,{className:Dt.formControl,fullWidth:!0,margin:tt.a.margin},r.a.createElement(it.a,{htmlFor:"confirmPassword"},"Confirmar Nova senha"),r.a.createElement(st.a,{type:"password",id:"confirmPassword",name:"confirmPassword",onChange:this.handleInputPasswordChange,"aria-describedby":"confirmPassword-text",value:this.state.confirmPassword})),this.state.errors&&r.a.createElement(ot.a,{id:"password-text",style:{color:"red"}},this.state.errors),this.state.message&&r.a.createElement(ot.a,{id:"password-text",style:{color:"green"}},this.state.message),r.a.createElement(ct.a,null,!this.state.isSaving&&r.a.createElement(Oe.a,{onClick:this.postPassword,fullWidth:!0,variant:"contained",color:"primary",type:"submit"},"Redefinir Senha"),this.state.isSaving&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:30}},r.a.createElement(ht.a,null)))))))}}]),t}(n.Component),Dt={};function _t(e){var t=e.children,a=e.value,n=e.index,i=Object(Ft.a)(e,["children","value","index"]);return r.a.createElement(mt.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),r.a.createElement(Nt.a,{p:3},t))}function Pt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Ut=Object(d.b)(function(e){return{isFetching:e.profile.isFetching,profile:e.profile.data,error:e.profile.error}},function(e){return{loadProfile:function(){return e({type:"LOAD_PROFILE_REQUEST"})}}})(It),Lt=a(464),zt=a(67),Wt=a.n(zt),qt=a(457),Bt=a(458),Vt=a(463),Ht=a(251),Yt=a.n(Ht),Gt=a(459),Jt=a(252),Qt=a.n(Jt),Xt=a(235),$t=a(400),Kt=a(250),Zt=a.n(Kt),ea=a(461),ta=a(462);U.a.config();var aa=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).trackScrolling=function(){var e=document.getElementById("messages-container");console.log("scrooling"),a.isBottom(e)&&(a.state.noReadMessageTag&&!a.state.noReadSendToServer&&a.postMessagesRead(),document.getElementById("messages-container")&&document.getElementById("messages-container").addEventListener("scroll",a.trackScrolling,!1))},a.state={openDialog:!0,scroll:"paper",message:"",noReadMessageTag:!1,noReadSendToServer:!1,maxChatRefresh:10,refreshIntervalTime:15e3,chatRefreshInterval:!1,currentChatRefresh:0},a.renderMessage=a.renderMessage.bind(Object(Ee.a)(a)),a.handleClose=a.handleClose.bind(Object(Ee.a)(a)),a.handleMessageChange=a.handleMessageChange.bind(Object(Ee.a)(a)),a.postMessage=a.postMessage.bind(Object(Ee.a)(a)),a.getMessages=a.getMessages.bind(Object(Ee.a)(a)),a.messagesEndRef=r.a.createRef(),a.messagesNoReadRef=r.a.createRef(),a.messagesList=r.a.createRef(),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.loadChatDialogExams(this.props.file._id)}},{key:"componentDidUpdate",value:function(){this.messagesNoReadRef&&this.messagesNoReadRef.current?document.getElementById("messages-container")&&(document.getElementById("messages-container").addEventListener("scroll",this.trackScrolling,!1),this.messagesNoReadRef.current.scrollIntoView({behavior:"smooth"}),this.props&&this.props.comments&&this.props.comments&&this.props.comments.length<4&&!this.state.noReadSendToServer&&this.postMessagesRead()):this.messagesEndRef&&this.messagesEndRef.current&&this.messagesEndRef.current.scrollIntoView({behavior:"smooth"}),this.state.chatRefreshInterval||(this.state.chatRefreshInterval=setInterval(this.getMessages,this.state.refreshIntervalTime))}},{key:"getMessages",value:function(){var e=this;console.log("getMessages!"),te.a.get("http://3.19.35.106:4444/api/comments/file/"+this.props.file._id).then(function(t){var a=t.data;if(a&&a.length>e.props.comments.length){var n=[];a.forEach(function(t){var a=!1;e.props.comments.forEach(function(e){t._id===e._id&&(a=!0)}),a||n.push(t)}),n.forEach(function(t){e.props.comments.push(t)}),e.state.noReadMessageTag=!1,e.state.noReadSendToServer=!1}e.setState({currentChatRefresh:e.state.currentChatRefresh++}),e.state.currentChatRefresh>=e.state.maxChatRefresh&&(clearInterval(e.state.chatRefreshInterval),e.setState({chatRefreshInterval:!1}),console.log("clearInterval because -> this.state.currentChatRefresh >= this.state.maxChatRefresh"))}).catch(function(t){clearInterval(e.state.chatRefreshInterval),e.setState({chatRefreshInterval:!1}),console.log("clearInterval because ERROR",JSON.stringify(t))})}},{key:"componentWillReceiveProps",value:function(e){}},{key:"isBottom",value:function(e){if(e)return console.log("element.clientHeight",e.clientHeight),console.log("element.scrollHeight - element.scrollTop",e.scrollHeight-e.scrollTop),Math.abs(e.scrollHeight-e.scrollTop-e.clientHeight)<60;console.log("in the scrolling element doesnt exist !!!!!!!")}},{key:"componentWillUnmount",value:function(){document.getElementById("messages-container")&&document.getElementById("messages-container").removeEventListener("scroll",this.trackScrolling),clearInterval(this.state.chatRefreshInterval),this.setState({chatRefreshInterval:!1}),console.log("clearInterval because UNMOUNT")}},{key:"handleClose",value:function(){this.setState({openDialog:!1,noReadMessageTag:!1}),this.props.removeDialog()}},{key:"handleMessageChange",value:function(e){this.setState({message:e.target.value})}},{key:"postMessagesRead",value:function(){var e=this;console.log("postMessagesRead"),te.a.patch("http://3.19.35.106:4444/api/comments/read/file/"+this.props.file._id,{}).then(function(t){e.setState({noReadSendToServer:!0}),t&&t.data&&e.props.updateFile(t.data)}).catch(function(e){console.log("error trying to update as read messages")})}},{key:"renderMessage",value:function(e,t){var a,n=this;this.props.classes;return console.log(null==e),r.a.createElement("div",{key:e._id},!this.state.noReadMessageTag&&!e.read&&e.sender._id!=this.props.auth.user._id&&r.a.createElement(We.a,{style:{width:"100%"},ref:this.messagesNoReadRef},r.a.createElement(lt.a,{style:{marginLeft:"auto",marginRight:"auto",background:ea.a[10]}},r.a.createElement("span",{style:{fontSize:10,marginTop:-5,marginLeft:5,marginRight:5}},"Mensagens n\xe3o lidas"))),r.a.createElement(Ct.a,Object.assign({in:!0,style:{transformOrigin:"0 0 0"}},{timeout:1e3}),r.a.createElement(We.a,{style:{width:"100%"}},r.a.createElement("span",{style:{marginLeft:e.sender._id===this.props.auth.user._id?"":"auto"}},e.sender.admin&&r.a.createElement(xe.a,{style:{float:e.sender._id===this.props.auth.user._id?"left":"right"},onClick:function(){console.log("comment.sender._id",e.sender._id),console.log("this.props.auth.user._id",n.props.auth.user._id)}},r.a.createElement($t.a,{"aria-label":"Recipe",style:{color:"#fff",backgroundColor:ea.a[500]}},r.a.createElement(Zt.a,null))),!e.sender.admin&&r.a.createElement(xe.a,{style:{float:e.sender._id===this.props.auth.user._id?"left":"right"},onClick:function(){}},r.a.createElement($t.a,{style:{color:"#fff",backgroundColor:ta.a[500]}},e.sender.completename&&e.sender.completename.length&&e.sender.completename.length>0?e.sender.completename.substring(0,1):e.sender.username.substring(0,1))),r.a.createElement(lt.a,{style:{background:e.sender.admin?ea.a[50]:"white"}},r.a.createElement(dt.a,null,r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:11,float:"left",marginRight:10}},e.sender.completename),"   ",r.a.createElement("span",{style:{fontSize:10,float:"left",color:"gray"}},(a=e.sentTime,yt()(a).format("DD/MM/YYYY hh:mm A")))),r.a.createElement(mt.a,{variant:"body2",component:"p",style:{marginTop:20}},e.message)))))),!this.state.noReadMessageTag&&!e.read&&e.sender._id!=this.props.auth.user._id&&(this.state.noReadMessageTag=!0))}},{key:"postMessage",value:function(){var e=this;if(this.state.message&&this.state.message.length>0){var t={message:this.state.message,file:this.props.file._id,sender:this.props.auth.user._id,receiver:this.props.auth.user._id===this.props.file.user._id?this.props.file.admin._id:this.props.file.user._id};this.setState({message:""}),te.a.post("http://3.19.35.106:4444/api/comments/file/"+this.props.file._id,t).then(function(t){e.props.loadChatDialogExams(e.props.file._id)}).catch(function(e){alert("error")})}}},{key:"render",value:function(){return r.a.createElement(qt.a,{fullScreen:!1,fullWidth:!0,maxWidth:"lg",style:{height:"90% !important"},open:this.state.openDialog,scroll:this.state.scroll,onClose:this.handleClose,"aria-labelledby":"scroll-dialog-title"},r.a.createElement(Vt.a,{id:"scroll-dialog-title"},"Messagens do exame: ",this.props.file.displayName,r.a.createElement(xe.a,{edge:"end",color:"inherit",onClick:this.handleClose,"aria-label":"close",style:{float:"right"}},r.a.createElement(Yt.a,null))),r.a.createElement(Bt.a,{dividers:"paper"===this.state.scroll,style:{background:"#eee"},id:"messages-container"},r.a.createElement(Me.a,{style:{width:"100%",minHeight:310,margin:10},ref:this.messagesList},this.state.noReadMessageTag=!1,this.props.comments&&this.props.comments.length>0&&this.props.comments.map(this.renderMessage),r.a.createElement(We.a,{ref:this.messagesEndRef,onBlur:function(){console.log("focused")}}))),r.a.createElement(Gt.a,{style:{paddingLeft:25,paddingRight:25}},r.a.createElement(Xt.a,{label:"Fa\xe7a sua pergunta...",multiline:!0,rowsMax:"3",value:this.state.message,onChange:this.handleMessageChange,margin:"normal",variant:"outlined",fullWidth:!0}),r.a.createElement(xe.a,{edge:"end",color:"inherit",onClick:this.postMessage,style:{float:"right"}},r.a.createElement(Qt.a,null))))}}]),t}(n.Component);var na=Object(d.b)(function(e){return{isFetching:e.chatDialog.isFetching,comments:e.chatDialog.data,error:e.chatDialog.error,auth:e.auth}},function(e){return{loadChatDialogExams:function(t){return e(function(e){return{type:"LOAD_CHATDIALOG_REQUEST",file_id:e}}(t))}}})(aa);U.a.config();var ra=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={currentDialog:null},a.removeDialog=a.removeDialog.bind(Object(Ee.a)(a)),a.updateFile=a.updateFile.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"updateFile",value:function(e){console.log("updateFile",JSON.stringify(e));for(var t=0;t<this.props.exams.length;t++)this.props.exams[t]._id===e._id&&(this.props.exams[t]=e,console.log("coinciden! intento cambiar! despues del cambio...",this.props.exams[t]));this.setState({})}},{key:"componentDidMount",value:function(){this.props.loadExams()}},{key:"removeDialog",value:function(){this.setState({currentDialog:null})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginTop:80,marginLeft:80,width:"100%",height:"100%"}},this.props.isFetching&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{flex:1,marginTop:150,justifyContent:"center",alignContent:"center",alignItems:"center"}},r.a.createElement(ht.a,null)),!this.props.isFetching&&r.a.createElement(Ct.a,Object.assign({in:!this.props.isFetching,style:{transformOrigin:"0 0 0"}},this.props.isFetching?{}:{timeout:1e3}),r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(vt.a,{title:"Exames",columns:ma,data:this.props.exams,actions:[{icon:"remove_red_eye",tooltip:"Visualizar Arquivo",onClick:function(e,t){te()("http://3.19.35.106:4444/api/files/"+t._id,{method:"GET",responseType:"blob"}).then(function(e){var a=new Blob([e.data],{type:"application/pdf"}),n=URL.createObjectURL(a),r=document.createElement("a");t.displayName&&t.displayName.split(".").length<2?r.download=t.displayName+"."+t.type:r.download=t.displayName,r.href=n,r.click()}).catch(function(e){console.log(e)})}},function(t){return{icon:t.commentsEnabled?0!==t.customerNoReadCommentsCount&&t.customerNoReadCommentsCount?1===t.customerNoReadCommentsCount?sa:2===t.customerNoReadCommentsCount?oa:3===t.customerNoReadCommentsCount?la:ca:ia:"",tooltip:t.commentsEnabled?"Mensagens":"",onClick:function(t,a){e.setState({currentDialog:r.a.createElement(na,{updateFile:e.updateFile,file:a,removeDialog:e.removeDialog})})},disabled:!t.commentsEnabled}}],options:{actionsColumnIndex:-1,exportButton:!1,exportFileName:"Lista de Exames",rowStyle:function(e){return e.read?{backgroundColor:"#EEE"}:{backgroundColor:"white"}}},localization:{header:{actions:"A\xe7\xf5es"},body:{emptyDataSourceMessage:"Sem dados para mostrar",editRow:{deleteText:"Tem certeza que quer deletar o exame?"}},toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar",exportTitle:"Exportar CSV",exportAriaLabel:"Exportar CSV",exportName:"Exportar CSV"},pagination:{labelRowsSelect:"Filas",labelDisplayedRows:"{count} de {from}-{to} ",firstTooltip:"Primeira",previousTooltip:"Anterior",nextTooltip:"Seguinte",lastTooltip:"\xdaltima P\xe1gina"}}})))),r.a.createElement("div",null,this.state.currentDialog))}}]),t}(n.Component),ia=function(){return r.a.createElement(Lt.a,{color:"primary"},r.a.createElement(Wt.a,null))},sa=function(){return r.a.createElement(Lt.a,{badgeContent:1,color:"primary"},r.a.createElement(Wt.a,null))},oa=function(){return r.a.createElement(Lt.a,{badgeContent:2,color:"primary"},r.a.createElement(Wt.a,null))},la=function(){return r.a.createElement(Lt.a,{badgeContent:3,color:"primary"},r.a.createElement(Wt.a,null))},ca=function(){return r.a.createElement(Lt.a,{badgeContent:"+3",color:"primary"},r.a.createElement(Wt.a,null))};function da(e){return yt()(e).format("DD/MM/YYYY hh:mm A")}var ma=[{title:"Nome",field:"displayName"},{title:"Tipo",field:"type"},{title:"Lido",field:"read",type:"boolean"},{title:"Data subida",field:"lastActivity",type:"datetime",render:function(e){return r.a.createElement(St.a,{title:da(e.lastActivity)},r.a.createElement("div",null," ",da(e.lastActivity)))}}],ua=Object(d.b)(function(e){return{isFetching:e.exams.isFetching,exams:e.exams.data,error:e.exams.error}},function(e){return{loadExams:function(){return e({type:"LOAD_EXAMS_REQUEST"})}}})(ra);U.a.config();var ha=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={},a.removeDialog=a.removeDialog.bind(Object(Ee.a)(a)),a.updateFile=a.updateFile.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"updateFile",value:function(e){console.log("updateFile",JSON.stringify(e));for(var t=0;t<this.props.adminExams.length;t++)this.props.adminExams[t]._id===e._id&&(this.props.adminExams[t]=e,console.log("coinciden! intento cambiar! despues del cambio...",this.props.adminExams[t]));this.setState({})}},{key:"componentDidMount",value:function(){this.props.loadAdminExams()}},{key:"removeDialog",value:function(){this.setState({currentDialog:null})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginLeft:20,width:"100%",height:"100%"}},this.props.isFetching&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{flex:1,marginTop:150,justifyContent:"center",alignContent:"center",alignItems:"center"}},r.a.createElement(ht.a,null)),!this.props.isFetching&&r.a.createElement(Ct.a,Object.assign({in:!this.props.isFetching,style:{transformOrigin:"0 0 0"}},this.props.isFetching?{}:{timeout:1e3}),r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"120vh",marginLeft:65}},r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(vt.a,{title:"Exames",columns:Sa,data:this.props.adminExams,actions:[{icon:"remove_red_eye",tooltip:"Visualizar Arquivo",onClick:function(e,t){te()("http://3.19.35.106:4444/api/files/"+t._id,{method:"GET",responseType:"blob"}).then(function(e){var a=new Blob([e.data],{type:"application/pdf"}),n=URL.createObjectURL(a),r=document.createElement("a");t.displayName&&t.displayName.split(".").length<2?r.download=t.displayName+"."+t.type:r.download=t.displayName,r.href=n,r.click()}).catch(function(e){console.log(e)})}},function(t){return{icon:t.commentsEnabled?0!==t.adminNoReadCommentsCount&&t.adminNoReadCommentsCount?1===t.adminNoReadCommentsCount?ga:2===t.adminNoReadCommentsCount?fa:3===t.adminNoReadCommentsCount?Ea:va:pa:"",tooltip:t.commentsEnabled?"Mensagens":"",onClick:function(t,a){e.setState({currentDialog:r.a.createElement(na,{updateFile:e.updateFile,file:a,removeDialog:e.removeDialog})})},disabled:!t.commentsEnabled}}],components:[{Action:function(e){return r.a.createElement(Oe.a,{onClick:function(t){return e.action.onClick(t,e.data)},color:"primary",variant:"contained",style:{textTransform:"none"},size:"small"},"Olhar")}},{Action:function(e){return r.a.createElement(Oe.a,{onClick:function(t){return e.action.onClick(t,e.data)},color:"primary",variant:"contained",style:{textTransform:"none"},size:"small"},"Deletar")}}],editable:{onRowUpdate:function(t,a){return new Promise(function(n,r){console.log("newData",t),te.a.patch("http://3.19.35.106:4444/api/files/"+a._id,t).then(function(t){e.props.loadAdminExams(),n()}).catch(function(e){r()})})},onRowDelete:function(t){return new Promise(function(a,n){te.a.delete("http://3.19.35.106:4444/api/files/"+t._id).then(function(t){e.props.loadAdminExams(),a(t)}).catch(function(e){n(e)})})}},options:{actionsColumnIndex:-1,exportButton:!0,exportFileName:"Lista de Exames"},localization:{header:{actions:"A\xe7\xf5es"},body:{emptyDataSourceMessage:"Sem dados para mostrar",editRow:{deleteText:"Tem certeza que quer deletar o exame?"}},toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar",exportTitle:"Exportar CSV",exportAriaLabel:"Exportar CSV",exportName:"Exportar CSV"},pagination:{labelRowsSelect:"Filas",labelDisplayedRows:"{count} de {from}-{to} ",firstTooltip:"Primeira",previousTooltip:"Anterior",nextTooltip:"Seguinte",lastTooltip:"\xdaltima P\xe1gina"}}})))),r.a.createElement("div",null,this.state.currentDialog))}}]),t}(n.Component),pa=function(){return r.a.createElement(Lt.a,{color:"primary"},r.a.createElement(Wt.a,null))},ga=function(){return r.a.createElement(Lt.a,{badgeContent:1,color:"primary"},r.a.createElement(Wt.a,null))},fa=function(){return r.a.createElement(Lt.a,{badgeContent:2,color:"primary"},r.a.createElement(Wt.a,null))},Ea=function(){return r.a.createElement(Lt.a,{badgeContent:3,color:"primary"},r.a.createElement(Wt.a,null))},va=function(){return r.a.createElement(Lt.a,{badgeContent:"+3",color:"primary"},r.a.createElement(Wt.a,null))};function ba(e){return null!=e?yt()(e).format("DD/MM/YY"):"-"}function ya(e){return null!=e?yt()(e).format("DD/MM/YYYY hh:mm A"):"-"}var Sa=[{title:"Nome",field:"displayName"},{title:"Subido",field:"lastActivity",type:"datetime",render:function(e){return r.a.createElement(St.a,{title:ya(e.lastActivity)},r.a.createElement("div",null," ",ba(e.lastActivity)))}},{title:"Usu\xe1rio",field:"user.completename"},{title:"Lido",field:"read",type:"boolean"},{title:"Arquivo lido",field:"lastRead",type:"datetime",render:function(e){return r.a.createElement(St.a,{title:ya(e.lastRead)},r.a.createElement("div",null," ",ba(e.lastRead)))}},{title:"Mensagens",field:"commentsEnabled",type:"boolean"},{title:"Msgs N\xe3o lidas",field:"adminNoReadCommentsCount"}],Ca=Object(d.b)(function(e){return{isFetching:e.adminExams.isFetching,adminExams:e.adminExams.data,error:e.adminExams.error}},function(e){return{loadAdminExams:function(){return e({type:"LOAD_ADMIN_EXAMS_REQUEST"})}}})(ha),Oa=a(253),xa=a(128),wa=a.n(xa),ja=a(254),ka=a.n(ja),Ra=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={hightlight:!1},a.fileInputRef=r.a.createRef(),a.openFileDialog=a.openFileDialog.bind(Object(Ee.a)(a)),a.onFilesAdded=a.onFilesAdded.bind(Object(Ee.a)(a)),a.onDragOver=a.onDragOver.bind(Object(Ee.a)(a)),a.onDragLeave=a.onDragLeave.bind(Object(Ee.a)(a)),a.onDrop=a.onDrop.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"openFileDialog",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:"onFilesAdded",value:function(e){if(!this.props.disabled){var t=e.target.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}}}},{key:"onDragOver",value:function(e){e.preventDefault(),this.props.disabed||this.setState({hightlight:!0})}},{key:"onDragLeave",value:function(e){this.setState({hightlight:!1})}},{key:"onDrop",value:function(e){if(e.preventDefault(),!this.props.disabed){var t=e.dataTransfer.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}this.setState({hightlight:!1})}}},{key:"fileListToArray",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t}},{key:"render",value:function(){var e;return r.a.createElement("div",{style:(e={height:200,width:200,backgroundColor:"#fff",border:"2px dashed rgb(187, 186, 186)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",fontSize:16},Object(be.a)(e,"backgroundColor",this.state.hightlight?"rgb(157, 216, 255)":""),Object(be.a)(e,"cursor",this.props.disabled?"default":"pointer"),e),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog},r.a.createElement("input",{ref:this.fileInputRef,style:{display:"none"},type:"file",accept:"application/pdf",onChange:this.onFilesAdded,multiple:!0}),r.a.createElement(ka.a,null),r.a.createElement("span",null,"Upload Exames "))}}]),t}(n.Component),Fa=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={},a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{width:"87%",height:8,backgroundColor:"#3863ff",borderRadius:5,marginRight:15,marginTop:5,float:"right"}},r.a.createElement("div",{style:{backgroundColor:"#3d67fd",height:"100%",margin:0,borderRadius:5,width:this.props.progress+"%"}}))}}]),t}(n.Component),Na=a(255),Ta=a.n(Na),Aa=a(256),Ma=a.n(Aa),Ia=a(257),Da=a.n(Ia);U.a.config();var _a=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={files:[],uploading:!1,uploadProgress:{},successfullUploaded:!1},a.onFilesAdded=a.onFilesAdded.bind(Object(Ee.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(Ee.a)(a)),a.sendRequest=a.sendRequest.bind(Object(Ee.a)(a)),a.renderActions=a.renderActions.bind(Object(Ee.a)(a)),a.sendRequest=a.sendRequest.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),console.log(JSON.stringify(wa.a))}},{key:"onFilesAdded",value:function(e){this.setState(function(t){return{files:t.files.concat(e)}})}},{key:"uploadFiles",value:function(){var e=Object(Oa.a)(N.a.mark(function e(){var t,a=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({uploadProgress:{},uploading:!0}),t=[],this.state.files.forEach(function(e){t.push(a.sendRequest(e))}),e.prev=3,e.next=6,Promise.all(t);case 6:this.setState({successfullUploaded:!0,uploading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),this.setState({successfullUploaded:!0,uploading:!1});case 12:case"end":return e.stop()}},e,this,[[3,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(e){var t=this;return new Promise(function(a,n){var r=new FormData;r.append("userId",t.props.data.userId),r.append("displayName",t.props.data.displayName),r.append("commentsEnabled",t.props.data.commentsEnabled),r.append("adminId",t.props.admin._id),r.append("file",e),r.append("files",t.state.files),r.append("size",e.size),console.log("fileee",JSON.stringify(e));var i=!0,s=!1,o=void 0;try{for(var l,c=r.entries()[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var d=l.value;console.log(d[0]+", "+d[1])}}catch(u){s=!0,o=u}finally{try{i||null==c.return||c.return()}finally{if(s)throw o}}var m=t;te()({method:"post",url:"http://3.19.35.106:4444/api/files",data:r,config:{headers:{"Content-Type":"multipart/form-data"}},onUploadProgress:function(a){if(a.loaded===100*a.total){var n=Object(p.a)({},t.state.uploadProgress);n[e.name]={state:"done",percentage:100},t.setState({uploadProgress:n})}else{var r=Object(p.a)({},t.state.uploadProgress);r[e.name]={state:"pending",percentage:a.loaded/a.total*100},t.setState({uploadProgress:r})}}}).then(function(t){var a=Object(p.a)({},m.state.uploadProgress);a[e.name]={state:"done",percentage:100},m.setState({uploadProgress:a}),m.props.triggerUploadedFinished(),console.log(t)}).catch(function(e){console.log(JSON.stringify(e.response))})})}},{key:"renderProgress",value:function(e){var t=this.state.uploadProgress[e.name];if(console.log("renderProgress",t),this.state.uploading||this.state.successfullUploaded)return r.a.createElement("div",{className:wa.a.ProgressWrapper},r.a.createElement(Fa,{progress:t?t.percentage:0,style:{float:"right"}}),r.a.createElement(Ta.a,{style:{opacity:t&&"done"===t.state?.5:0,float:"left",marginLeft:10}}))}},{key:"renderActions",value:function(){var e=this;return this.state.successfullUploaded?r.a.createElement(Oe.a,{onClick:function(){return e.setState({files:[],successfullUploaded:!1})}},"Limpar"):r.a.createElement(Oe.a,{disabled:this.state.files.length<0||this.state.uploading,onClick:this.uploadFiles},"Fazer Upload")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:wa.a.Upload,style:{padding:20}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingTop:"16px",boxSizing:"border-box",width:"100%"}},r.a.createElement("div",null,r.a.createElement(Ra,{onFilesAdded:this.onFilesAdded,disabled:this.state.uploading||this.state.successfullUploaded})),r.a.createElement("div",{style:{marginLeft:32,alignItems:"flex-start",justifyItems:"flex-start",flex:1,overflowY:"auto"}},r.a.createElement(Me.a,null,r.a.createElement(We.a,null,r.a.createElement(Ma.a,{style:{float:"left",color:"#2a2a2a",marginRight:5}}),r.a.createElement(mt.a,{variant:"subtitle1",style:{float:"left",color:"#2a2a2a"}},"Arquivo para: ",this.props.data.user.completename)),r.a.createElement(We.a,null,r.a.createElement(Da.a,{style:{float:"left",color:"#2a2a2a",marginRight:5}}),r.a.createElement(mt.a,{variant:"subtitle1",style:{float:"left",color:"#2a2a2a"}},"Nome do Arquivo: ",this.props.data.displayName.length>0?this.props.data.displayName:"Manter nome original do Arquivo"))),this.state.files.map(function(t){return r.a.createElement("div",{key:t.name,className:wa.a.Row},r.a.createElement(We.a,null,r.a.createElement($e.a,{style:{float:"left",color:"#2a2a2a",marginRight:5}}),r.a.createElement(mt.a,{variant:"subtitle1",style:{float:"left",color:"#2a2a2a"}},t.name)),r.a.createElement("br",null),e.renderProgress(t))}))),r.a.createElement("div",{style:{display:"flex",flex:1,width:"100%",alignItems:"flex-end",flexDirection:"column",marginTop:32}},this.renderActions()))}}]),t}(n.Component),Pa=(a(401),a(474)),Ua=a(465),La=a(473);U.a.config();var za=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={user:!1,displayName:"",userId:0,commentsEnabled:!1,activeStep:0,skipped:new Set,steps:a.getSteps(),showStepper:!0,userFilter:"",filteredUsers:[],firstTimeUpdated:!1},a.handleSelectedUser=a.handleSelectedUser.bind(Object(Ee.a)(a)),a.handleNext=a.handleNext.bind(Object(Ee.a)(a)),a.handleBack=a.handleBack.bind(Object(Ee.a)(a)),a.handleSkip=a.handleSkip.bind(Object(Ee.a)(a)),a.handleReset=a.handleReset.bind(Object(Ee.a)(a)),a.getStepContent=a.getStepContent.bind(Object(Ee.a)(a)),a.handledisplayName=a.handledisplayName.bind(Object(Ee.a)(a)),a.triggerUploadedFinished=a.triggerUploadedFinished.bind(Object(Ee.a)(a)),a.handleSelectedCommentsEnabled=a.handleSelectedCommentsEnabled.bind(Object(Ee.a)(a)),a.handleUserFilterChange=a.handleUserFilterChange.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"handledisplayName",value:function(e){this.setState(Object(be.a)({},e.target.name,e.target.value))}},{key:"componentDidUpdate",value:function(){this.state.firstTimeUpdated||this.props.users&&this.props.users.length>0&&this.setState({firstTimeUpdated:!0,filteredUsers:this.props.users})}},{key:"handleSelectedUser",value:function(e){if(e&&0!=e.target.value){var t="";this.props.users.map(function(a,n){a._id===e.target.value&&(t=a)}),this.setState({userId:e.target.value,user:t})}else this.setState({userNameSelected:!1,userId:0})}},{key:"handleSelectedCommentsEnabled",value:function(e){this.setState({commentsEnabled:e.target.value})}},{key:"getSteps",value:function(){return["Seleciona Usu\xe1rio","Nome para o arquivo","Upload arquivo"]}},{key:"getStepContent",value:function(e){switch(e){case 0:return this.renderSelectUser();case 1:return this.renderdisplayName();case 2:return this.renderUploadFile();default:return"Passo desconhecido, reiniciar pagina"}}},{key:"handleUserFilterChange",value:function(e){var t=[];this.props.users.forEach(function(a){a.completename.toLowerCase().includes(e.target.value.toLowerCase())&&t.push(a)}),this.setState({filteredUsers:t,userFilter:e.target.value})}},{key:"renderSelectUser",value:function(){return r.a.createElement(lt.a,{style:{minHeight:300},alignitems:"center",justify:"center"},this.props.isFetchingUsers&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:30}},r.a.createElement(ht.a,null)),!this.props.isFetchingUsers&&r.a.createElement("div",null,r.a.createElement(rt.a,{style:{marginLeft:50,marginTop:10}},r.a.createElement(Xt.a,{label:"Filtrar Usu\xe1rio",type:"text",id:"userFilter",value:this.state.userFilter,name:"userFilter",onChange:this.handleUserFilterChange,"aria-describedby":"userFilter-text"})),r.a.createElement(rt.a,{fullWidth:!0,style:{paddingLeft:50,paddingRight:50,paddingTop:10,paddingBottom:10}},r.a.createElement(nt.a,{native:!0,variant:"outlined",value:this.state.userId,onChange:this.handleSelectedUser},r.a.createElement("option",{value:0}," Escolher Usu\xe1rio "),this.state.filteredUsers.map(function(e,t){return r.a.createElement("option",{key:e._id,value:e._id},e.completename)})),this.state.errors&&r.a.createElement(ot.a,{id:"username-text",style:{color:"red"}},this.state.errors))))}},{key:"renderdisplayName",value:function(){return r.a.createElement(lt.a,{style:{minHeight:300}},r.a.createElement(rt.a,{fullWidth:!0,style:{padding:50}},r.a.createElement(Xt.a,{label:"Nome para o Arquivo",placeholder:"Nome para o Arquivo",helpertext:"Se quiser manter o nome do arquivo original, pode clicar em Pular",margin:"normal",name:"displayName",variant:"outlined",onChange:this.handledisplayName}),this.state.errors&&r.a.createElement(ot.a,{id:"username-text",style:{color:"red"}},this.state.errors)),r.a.createElement(rt.a,{style:{padding:50}},r.a.createElement(it.a,{style:{marginLeft:50,minWidth:150}},"Habilitar Bate Papo"),r.a.createElement(nt.a,{style:{marginTop:-27,minWidth:150},value:this.state.commentsEnabled,onChange:this.handleSelectedCommentsEnabled},r.a.createElement(je.a,{value:!1},"N\xe3o"),r.a.createElement(je.a,{value:!0},"Sim"))))}},{key:"renderUploadFile",value:function(){return r.a.createElement(lt.a,null,r.a.createElement(_a,{data:this.state,triggerUploadedFinished:this.triggerUploadedFinished,admin:this.props.auth.user}))}},{key:"isStepOptional",value:function(e){return 1===e}},{key:"isStepSkipped",value:function(e){return this.state.skipped.has(e)}},{key:"handleNext",value:function(){var e=this,t=this.state.skipped;this.isStepSkipped(this.state.activeStep)&&(t=new Set(t.values())).delete(this.state.activeStep),0===this.state.activeStep&&0===this.state.userId?this.setState({errors:"Por favor, escolha um usu\xe1rio da lista"}):1===this.state.activeStep&&0===this.state.displayName.length?this.setState({errors:"Por favor, se quiser manter o nome original clique em Pular"}):1===this.state.activeStep&&this.state.displayName.length>0?te.a.get("http://3.19.35.106:4444/api/files/"+this.state.displayName+"/user/"+this.state.userId).then(function(a){e.setState({activeStep:e.state.activeStep+1,errors:!1,newSkipped:t})}).catch(function(t){e.setState({errors:t.response.data.err})}):this.setState({activeStep:this.state.activeStep+1,errors:!1,newSkipped:t})}},{key:"handleBack",value:function(){this.setState({activeStep:this.state.activeStep-1})}},{key:"handleSkip",value:function(){if(!this.isStepOptional(this.state.activeStep))throw new Error("N\xe3o pode pular este passo porque n\xe3o \xe9 opcional.");this.setState({activeStep:this.state.activeStep+1,displayName:""});var e=new Set(this.state.skipped.values());e.add(this.state.activeStep),this.setState({skipped:e})}},{key:"handleReset",value:function(){this.setState({activeStep:0})}},{key:"triggerUploadedFinished",value:function(){this.setState({uploadFinished:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{width:"80%",margin:40,marginTop:120,marginLeft:80}},this.state.showStepper&&r.a.createElement("div",null,r.a.createElement(Pa.a,{activeStep:this.state.activeStep},this.state.steps.map(function(t,a){var n={},i={};return e.isStepOptional(a)&&(i.optional=r.a.createElement(mt.a,{variant:"caption",component:"span"},"Opcional")),e.isStepSkipped(a)&&(n.completed=!1),r.a.createElement(Ua.a,Object.assign({key:t},n),r.a.createElement(La.a,i,t))})),r.a.createElement("div",null,this.state.activeStep===this.state.steps.length?r.a.createElement("div",null,r.a.createElement(mt.a,{style:{marginTop:3,marginBottom:3},component:"span"},"Upload realizado com sucesso!"),r.a.createElement(Oe.a,{onClick:this.handleReset,style:{marginRight:3},component:"span"},"Adicionar mais")):r.a.createElement("div",null,r.a.createElement(mt.a,{component:"span",style:{marginTop:3,marginBottom:3}},this.getStepContent(this.state.activeStep)),r.a.createElement("div",null,r.a.createElement(Oe.a,{disabled:0===this.state.activeStep,onClick:this.handleBack,style:{marginRight:3}},"Voltar"),this.isStepOptional(this.state.activeStep)&&r.a.createElement(Oe.a,{variant:"contained",color:"primary",onClick:this.handleSkip,style:{marginRight:3}},"Pular"),r.a.createElement(Oe.a,{variant:"contained",color:"primary",onClick:this.handleNext,style:{marginRight:3},disabled:this.state.activeStep===this.state.steps.length-1&&!this.state.uploadFinished},this.state.activeStep===this.state.steps.length-1?"Finalizar":"Seguinte"))))))}}]),t}(n.Component),Wa=Object(d.b)(function(e){return{isFetchingUsers:e.users.isFetching,users:e.users.data,error:e.users.error,auth:e.auth}},function(e){return{loadUsers:function(){return e({type:"LOAD_USERS_REQUEST"})}}})(za),qa=a(262),Ba=a.n(qa),Va=Object(ye.a)(function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(be.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}});function Ha(e){var t,a,n=Va(),i=Object(Te.a)(),s=r.a.useState(!1),c=Object(o.a)(s,2),d=c[0],m=c[1];function u(){e.logoutUser(e.history)}return r.a.createElement("div",{className:n.root},r.a.createElement(Fe.a,null),r.a.createElement(Se.a,{position:"fixed",className:Object(Ne.a)(n.appBar,Object(be.a)({},n.appBarShift,d)),style:{padding:15}},r.a.createElement(Ce.a,null,r.a.createElement(xe.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},edge:"start",className:Object(Ne.a)(n.menuButton,Object(be.a)({},n.hide,d))},r.a.createElement(_e.a,null)),r.a.createElement("img",{src:"/img/logo_white.png",height:80}),r.a.createElement("div",{className:n.sectionDesktop,style:{position:"absolute",right:"0",top:15,marginRight:50}},(e.user.admin?"Admin: ":e.user.vet?"Veterin\xe1rio: ":e.user.clinic?"Cl\xednica: ":"Usu\xe1rio: ")+e.user.completename),r.a.createElement("div",{className:n.sectionDesktop,style:{fontSize:10,position:"absolute",right:"0",top:38,marginRight:50}},e.user.username))),r.a.createElement(Ae.a,{variant:"permanent",className:Object(Ne.a)(n.drawer,(t={},Object(be.a)(t,n.drawerOpen,d),Object(be.a)(t,n.drawerClose,!d),t)),classes:{paper:Object(Ne.a)((a={},Object(be.a)(a,n.drawerOpen,d),Object(be.a)(a,n.drawerClose,!d),a))},open:d},r.a.createElement("div",{className:n.toolbar,style:{padding:30}},r.a.createElement(xe.a,{onClick:function(){m(!1)}},"rtl"===i.direction?r.a.createElement(ze.a,null):r.a.createElement(Ue.a,null))),r.a.createElement(Ie.a,null),e.user.admin&&r.a.createElement("div",null,r.a.createElement(Me.a,null,r.a.createElement(We.a,{button:!0,component:l.b,color:"inherit",to:"/register"},r.a.createElement(qe.a,null,r.a.createElement(Ze.a,null)),r.a.createElement(Be.a,{primary:"Adicionar Usu\xe1rio"})),r.a.createElement(We.a,{button:!0,component:l.b,color:"inherit",to:"/users"},r.a.createElement(qe.a,null,r.a.createElement(He.a,null)),r.a.createElement(Be.a,{primary:"Usu\xe1rios"}))),r.a.createElement(Ie.a,null),r.a.createElement(Me.a,null,r.a.createElement(We.a,{button:!0,component:l.b,color:"inherit",to:"/add_admin_exams"},r.a.createElement(qe.a,null,r.a.createElement(Ba.a,null)),r.a.createElement(Be.a,{primary:"Adicionar Exame"})),r.a.createElement(We.a,{button:!0,component:l.b,color:"inherit",to:"/admin_exams"},r.a.createElement(qe.a,null,r.a.createElement($e.a,null)),r.a.createElement(Be.a,{primary:"Exames"}))),r.a.createElement(Ie.a,null),r.a.createElement(Me.a,null,r.a.createElement(We.a,{button:!0,component:l.b,color:"inherit",to:"/profile"},r.a.createElement(qe.a,null,r.a.createElement(Ge.a,null)),r.a.createElement(Be.a,{primary:"Perfil"}))),r.a.createElement(Ie.a,null),r.a.createElement(Me.a,null,r.a.createElement(We.a,{button:!0,onClick:u,color:"inherit"},r.a.createElement(qe.a,null,r.a.createElement(Qe.a,null)),r.a.createElement(Be.a,{primary:"Sair"})))),!e.user.admin&&r.a.createElement("div",null,r.a.createElement(Me.a,null,r.a.createElement(We.a,{button:!0,component:l.b,color:"inherit",to:"/exams"},r.a.createElement(qe.a,null,r.a.createElement($e.a,null)),r.a.createElement(Be.a,{primary:"Exames"}))),r.a.createElement(Ie.a,null),r.a.createElement(Me.a,null,r.a.createElement(We.a,{button:!0,component:l.b,color:"inherit",to:"/profile"},r.a.createElement(qe.a,null,r.a.createElement(Ge.a,null)),r.a.createElement(Be.a,{primary:"Perfil"}))),r.a.createElement(Ie.a,null),r.a.createElement(Me.a,null,r.a.createElement(We.a,{button:!0,color:"inherit",onClick:u},r.a.createElement(qe.a,null,r.a.createElement(Qe.a,null)),r.a.createElement(Be.a,{primary:"Sair"}))))))}a(402);var Ya=Object(ye.a)(function(e){var t;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(be.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:7*e.spacing.unit+1},e.breakpoints.up("sm"),{width:9*e.spacing.unit+1}),toolbar:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:3*e.spacing.unit},sectionDesktop:(t={display:"none"},Object(be.a)(t,e.breakpoints.up("md"),{display:"flex"}),Object(be.a)(t,"float","right"),Object(be.a)(t,"position","absolute"),Object(be.a)(t,"right","0"),t),title:{flexGrow:1,marginLeft:300}}}),Ga=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).handleProfileMenuOpen=function(e){a.setAnchorEl(e.currentTarget)},a.handleMobileMenuClose=function(){console.log("handleMobileMenuClose"),a.setMobileMoreAnchorEl(null)},a.handleMenuClose=function(){a.setAnchorEl(null),a.handleMobileMenuClose()},a.handleMobileMenuOpen=function(e){console.log("handleMobileMenuOpen"),a.setState({mobileMoreAnchorEl:e.currentTarget,isMobileMenuOpen:!a.state.isMobileMenuOpen})},a.state={anchorEl:null,mobileMoreAnchorEl:null,isMenuOpen:!1,isMobileMenuOpen:!1,menuId:"primary-search-account-menu"},a.setAnchorEl=a.setAnchorEl.bind(Object(Ee.a)(a)),a.setMobileMoreAnchorEl=a.setMobileMoreAnchorEl.bind(Object(Ee.a)(a)),a.handleProfileMenuOpen=a.handleProfileMenuOpen.bind(Object(Ee.a)(a)),a.handleMobileMenuClose=a.handleMobileMenuClose.bind(Object(Ee.a)(a)),a.handleMenuClose=a.handleMenuClose.bind(Object(Ee.a)(a)),a.handleMobileMenuOpen=a.handleMobileMenuOpen.bind(Object(Ee.a)(a)),a.renderMenu=a.renderMenu.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"setAnchorEl",value:function(e){this.setState({anchorEl:e,isMenuOpen:!this.state.isMenuOpen})}},{key:"setMobileMoreAnchorEl",value:function(e){this.setState({mobileMoreAnchorEl:e,isMobileMenuOpen:!this.state.isMobileMenuOpen})}},{key:"renderMenu",value:function(){return r.a.createElement(we.a,{anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:this.state.menuId,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.isMenuOpen,onClose:this.handleMenuClose},r.a.createElement(je.a,{onClick:this.handleMenuClose},"Profile"),r.a.createElement(je.a,{onClick:this.handleMenuClose},"My account"))}},{key:"renderMobileMenu",value:function(){var e=this;return console.log("renderMobileMenu"),r.a.createElement(we.a,{anchorEl:this.state.mobileMoreAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:this.state.mobileMenuId,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.isMobileMenuOpen},r.a.createElement(je.a,{component:l.b,color:"inherit",to:"/#about-us"},r.a.createElement(Oe.a,{style:{textTransform:"none",fontSize:20,color:"#0188FE"},onClick:function(){e.setState({isMobileMenuOpen:!1})}},"Sobre n\xf3s")),r.a.createElement(je.a,{component:l.b,color:"inherit",to:"/#exams"},r.a.createElement(Oe.a,{style:{textTransform:"none",fontSize:20,color:"#0188FE"},onClick:function(){e.setState({isMobileMenuOpen:!1})}},"Exames")),r.a.createElement(je.a,{component:l.b,color:"inherit",to:"/#partners"},r.a.createElement(Oe.a,{style:{textTransform:"none",fontSize:20,color:"#0188FE"},onClick:function(){e.setState({isMobileMenuOpen:!1})}},"Parceiros")),r.a.createElement(je.a,{component:l.b,color:"inherit",to:"/#contact"},r.a.createElement(Oe.a,{style:{textTransform:"none",fontSize:20,color:"#0188FE"},onClick:function(){e.setState({isMobileMenuOpen:!1})}},"Contato")))}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=r.a.createElement("div",{style:{float:"right",right:0,position:"relative"}},r.a.createElement(Oe.a,{style:{marginLeft:-40,marginRight:40,textTransform:"none",fontSize:20,color:"#0188FE"},component:l.b,color:"inherit",to:"/#about-us"},"Sobre n\xf3s"),r.a.createElement(Oe.a,{style:{marginLeft:40,marginRight:40,textTransform:"none",fontSize:20,color:"#0188FE"},component:l.b,color:"inherit",to:"/#exams"},"Exames"),r.a.createElement(Oe.a,{style:{marginLeft:40,marginRight:40,textTransform:"none",fontSize:20,color:"#0188FE"},component:l.b,color:"inherit",to:"/#partners"},"Parceiros"),r.a.createElement(Oe.a,{style:{marginLeft:40,marginRight:40,textTransform:"none",fontSize:20,color:"#0188FE"},component:l.b,color:"inherit",to:"/#contact"},"Contato"));return r.a.createElement("div",null,r.a.createElement(Fe.a,null),r.a.createElement(Se.a,{position:"fixed",className:Object(Ne.a)(Ya.appBar,Object(be.a)({},Ya.appBarShift,!1)),style:{padding:15,backgroundColor:"white"}},r.a.createElement(Ce.a,null,r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:"/img/logo_blue.png",height:80})),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",{className:"navbar-desktop",style:{float:"right",position:"absolute",right:"0"}},t?"":n),r.a.createElement("div",{className:"navbar-mobile",style:{float:"right",position:"absolute",right:"0",color:"#0188FE"}},r.a.createElement(xe.a,{"aria-label":"Mostrar Mais","aria-controls":this.state.mobileMenuId,"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},r.a.createElement(Re.a,null))))),!t&&this.renderMobileMenu(),t?r.a.createElement(Ha,{logoutUser:this.props.logoutUser,history:this.props.history,user:a}):"")}}]),t}(n.Component),Ja=Object(d.b)(function(e){return{auth:e.auth}},{logoutUser:ue})(Object(c.e)(Ga)),Qa=a(470);U.a.config();var Xa=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={username:"",message:!1,errors:!1,isFetching:!1,emailSent:!1},a.handleSubmit=a.handleSubmit.bind(Object(Ee.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.state.username&&this.state.username.length>4&&-1!=this.state.username.indexOf("@")&&-1!=this.state.username.indexOf(".")?(this.setState({isFetching:!0}),te.a.post("http://3.19.35.106:4444/api/users/forgot",{username:this.state.username}).then(function(e){t.setState({message:e.data.msg,errors:!1,isFetching:!1,emailSent:!0})}).catch(function(e){t.setState({errors:e&&e.response&&e.response.data?JSON.stringify(e.response.data.msg):"Erro desconhecido, tente mais tarde",isFetching:!1})})):this.setState({errors:"email invalido",isFetching:!1})}},{key:"handleInputChange",value:function(e){this.setState(Object(be.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e;return r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(ut.a,{item:!0,xs:6},r.a.createElement(lt.a,{style:{width:"100%"}},r.a.createElement(dt.a,null,r.a.createElement(mt.a,{color:"textSecondary",gutterBottom:!0},"Vets"),r.a.createElement(mt.a,{variant:"h5",component:"h2"},"Recuperar Senha"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(rt.a,{fullWidth:!0},r.a.createElement(it.a,{htmlFor:"username"},"E-mail"),r.a.createElement(st.a,(e={type:"username",id:"username",value:this.state.username,name:"username",onChange:this.handleInputChange,"aria-describedby":"username-text"},Object(be.a)(e,"onChange",this.handleInputChange),Object(be.a)(e,"value",this.state.username),e)),this.state.errors&&r.a.createElement(ot.a,{id:"username-text",style:{color:"red"}},this.state.errors),this.state.message&&r.a.createElement(ot.a,{id:"username-text",style:{color:"green"}},this.state.message)),r.a.createElement(ct.a,null,this.state.isFetching&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:30},fullWidth:!0},r.a.createElement(ht.a,null)),!this.state.isFetching&&r.a.createElement(Oe.a,{disabled:this.state.emailSent,fullWidth:!0,variant:"contained",color:"primary",type:"submit"},"Enviar E-mail de Recupera\xe7\xe3o de Senha")))))))}}]),t}(n.Component),$a=function(e){function t(){var e;return Object(he.a)(this,t),(e=Object(ge.a)(this,Object(fe.a)(t).call(this))).state={username:"",password:"",errors:{}},e.handleInputChange=e.handleInputChange.bind(Object(Ee.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(Ee.a)(e)),e}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(be.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log();var t={username:this.state.username,password:this.state.password};this.props.loginUser(t)}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e,t,a=this.state.errors;return r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(ut.a,{item:!0,xs:6},r.a.createElement(lt.a,{className:Za.card},r.a.createElement(dt.a,null,r.a.createElement(mt.a,{className:Za.title,color:"textSecondary",gutterBottom:!0},"Parapeti"),r.a.createElement(mt.a,{variant:"h5",component:"h2"},"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(rt.a,{className:Za.formControl,fullWidth:!0},r.a.createElement(it.a,{htmlFor:"username"},"E-mail"),r.a.createElement(st.a,(e={type:"username",id:"username",value:this.state.username,name:"username",onChange:this.handleInputChange,"aria-describedby":"username-text"},Object(be.a)(e,"onChange",this.handleInputChange),Object(be.a)(e,"value",this.state.username),e)),a.username&&r.a.createElement(ot.a,{id:"username-text",style:{color:"red"}},a.username)),r.a.createElement(rt.a,{fullWidth:!0,className:Za.formControl},r.a.createElement(it.a,{htmlFor:"password"},"Senha"),r.a.createElement(st.a,(t={type:"password",id:"password",value:this.state.password,name:"password",onChange:this.handleInputChange,"aria-describedby":"password-text"},Object(be.a)(t,"onChange",this.handleInputChange),Object(be.a)(t,"value",this.state.password),t)),a.password&&r.a.createElement(ot.a,{id:"password-text",style:{color:"red"}},a.password)),r.a.createElement(ct.a,null,r.a.createElement(Oe.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit"},"Login")))),r.a.createElement(ct.a,null,r.a.createElement(Qa.a,{component:Ka,to:"/forgot_password"},"Esqueceu sua senha?")))))}}]),t}(n.Component),Ka=r.a.forwardRef(function(e,t){return r.a.createElement(l.b,Object.assign({innerRef:t},e))}),Za=Object(ye.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),width:"100%"},card:{minWidth:275,maxWidth:400},button:{margin:e.spacing(1),width:"100%"},input:{display:"none",width:"100%"},title:{alignItems:"center",justify:"center"}}}),en=Object(d.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){te.a.post("http://3.19.35.106:4444/api/users/login",e).then(function(e){console.log("res",e.data);var a=e.data.token;localStorage.setItem("jwtToken",a),de(a);var n=ce()(a);t(me(n))}).catch(function(e){console.log(e),console.log(e.response),e&&e.response?t({type:"GET_ERRORS",payload:e.response.data}):console.log(e)})}}})($a),tn=a(191),an=a.n(tn),nn=(a(405),a(406),a(264)),rn=a.n(nn),sn=a(266),on=a.n(sn),ln=a(98),cn=a.n(ln),dn=a(265),mn=a.n(dn);U.a.config();var un=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).aboutUsRef=r.a.createRef(),a.examsRef=r.a.createRef(),a.partnersRef=r.a.createRef(),a.contactRef=r.a.createRef(),a.sendEmail=a.sendEmail.bind(Object(Ee.a)(a)),a.scrollIfNecessary=a.scrollIfNecessary.bind(Object(Ee.a)(a)),a.state={isSending:!1,sent:!1,name:"",email:"",phone:"",address:"",message:"",errors:{}},a.handleInputChange=a.handleInputChange.bind(Object(Ee.a)(a)),a.sendEmail=a.sendEmail.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.auth?(console.log(this.props.auth),this.props.auth.isAuthenticated&&(this.props.auth.user.admin?this.props.history.push("/users"):this.props.history.push("/exams"))):this.scrollIfNecessary()}},{key:"componentDidUpdate",value:function(){this.scrollIfNecessary()}},{key:"scrollIfNecessary",value:function(){window.location.href.includes("#about-us")?(console.log("estoy dentro about us"),this.aboutUsRef.current.scrollIntoView({behavior:"smooth",block:"start"})):window.location.href.includes("#exams")?(console.log("estoy dentro exams"),this.examsRef.current.scrollIntoView({behavior:"smooth",block:"start"})):window.location.href.includes("#contact")?(console.log("estoy dentro contact"),this.contactRef.current.scrollIntoView({behavior:"smooth",block:"start"})):window.location.href.includes("#partners")&&(console.log("estoy dentro contact"),this.partnersRef.current.scrollIntoView({behavior:"smooth",block:"start"}))}},{key:"handleInputChange",value:function(e){var t=e.target.name;this.setState(Object(be.a)({},t,e.target.value))}},{key:"sendEmail",value:function(){var e=this;console.log(this.state);var t=!0;this.state.errors={},(!this.state.email||this.state.email.length<6||!this.state.email.includes("@")||!this.state.email.includes(".")||this.state.email.includes(",")||this.state.email.includes("<")||this.state.email.includes("script")||this.state.email.includes(">"))&&(t=!1,this.state.errors.email="O email \xe9 incorreto"),(!this.state.name||this.state.name.length<3||this.state.name.includes(",")||this.state.name.includes("<")||this.state.name.includes("script")||this.state.name.includes(">"))&&(t=!1,this.state.errors.name="O nome \xe9 incorreto"),(!this.state.phone||this.state.phone.length<3||this.state.phone.includes(",")||this.state.phone.includes("<")||this.state.phone.includes("script")||this.state.phone.includes(">"))&&(t=!1,this.state.errors.phone="O telephone \xe9 incorreto"),(!this.state.message||this.state.message.length<3||this.state.message.includes("<")||this.state.message.includes("script")||this.state.message.includes(">"))&&(t=!1,this.state.errors.message="A mensagem \xe9 muito curta ou tem carateres n\xe3o permitidos"),(!this.state.address||this.state.address.length<3||this.state.address.includes("<")||this.state.address.includes("script")||this.state.address.includes(">"))&&(t=!1,this.state.errors.address="O endere\xe7o \xe9 incorreto"),t?(this.setState({isSending:!0}),te.a.post("http://3.19.35.106:4444/api/send_email/",{name:this.state.name,email:this.state.email,address:this.state.address,phone:this.state.phone,message:this.state.message}).then(function(t){e.setState({isSending:!1,sent:!0})}).catch(function(t){e.setState({isSending:!1}),t&&t.response&&e.setState({errors:JSON.stringify(t.response),isSending:!1})})):this.setState({})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{marginTop:90}},r.a.createElement(an.a,{className:"slider-wrapper"},[{title:"CONSULTE",description:"SEU EXAME",button:"CONSULTA",image:"/img/carousel1.jpg"},{title:"CONSULTE",description:"SEU EXAME",button:"CONSULTA",image:"/img/carousel2.jpg"}].map(function(e,t){return r.a.createElement("div",{key:t,className:"slider-content",style:{background:"url('".concat(e.image,"') no-repeat center center")}},r.a.createElement("div",{className:"inner",style:{textAlign:"right"}},r.a.createElement("div",{className:"carousel-title"},e.title),r.a.createElement("div",{className:"carousel-description"},r.a.createElement("strong",null,e.description)),r.a.createElement("a",{href:"/login",className:"button"},e.button," \xa0\xa0\xa0 ",r.a.createElement("i",{style:{fontWeight:"light"},className:"fas fa-angle-right"}))))}))),r.a.createElement("div",{ref:this.aboutUsRef,style:{minHeight:400}},r.a.createElement(ut.a,{xs:12,container:!0,direction:"row",justify:"center",alignItems:"center",style:{backgroundColor:"#0188FE"}},r.a.createElement(ut.a,{xs:6,justify:"center",alignItems:"center",style:{padding:180,backgroundColor:"#FFFFFF"}},r.a.createElement("img",{src:"/img/logo_blue.png",height:150,style:{margin:0,display:"block",maxWidth:"100%",maxHeight:"100%"}})),r.a.createElement(ut.a,{xs:6,style:{backgroundColor:"#0188FE",display:"block",width:"100%",height:"100%",paddingLeft:20,paddingRight:20}},r.a.createElement("div",{style:{backgroundColor:"#0188FE",display:"block",width:"100%",height:"100%",textAlign:"center",marginTop:0,fontSize:20,color:"white"}},r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("span",{className:"carousel-title"},"SOBRE \xa0"),r.a.createElement("span",{className:"carousel-description",style:{marginBottom:20}},r.a.createElement("strong",null,"N\xd3S"))),r.a.createElement("br",null),r.a.createElement("div",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."))))),r.a.createElement("div",null,r.a.createElement(ut.a,{xs:12,container:!0,direction:"row",justify:"center",alignItems:"center",style:{backgroundColor:"#FFFFFF"}},r.a.createElement(ut.a,{xs:4,justify:"center",alignItems:"center",container:!0,style:{padding:70,backgroundColor:"#FFFFFF",color:"#0188FE"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement(rn.a,{style:{fontSize:30,marginTop:5}})),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{style:{fontSize:30}},"MISS\xc3O")),r.a.createElement("div",{className:"offset-md-2 col-md-10"},r.a.createElement("div",{style:{color:"black"}},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip quis nostrud exercitation ullamco laboris nisi ut aliquip quis nostrud exercitation ullamco laboris nisi ut aliquip")))),r.a.createElement(ut.a,{xs:4,justify:"center",alignItems:"center",container:!0,style:{padding:70,backgroundColor:"#FFFFFF",color:"#0188FE"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement(mn.a,{style:{fontSize:30,marginTop:5}})),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{style:{fontSize:30}},"VIS\xc3O")),r.a.createElement("div",{className:"offset-md-2 col-md-10"},r.a.createElement("div",{style:{color:"black"}},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip quis nostrud exercitation ullamco laboris nisi ut aliquip quis nostrud exercitation ullamco laboris nisi ut aliquip")))),r.a.createElement(ut.a,{xs:4,justify:"center",alignItems:"center",container:!0,style:{padding:70,paddingTop:40,backgroundColor:"#FFFFFF",color:"#0188FE"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement(on.a,{style:{fontSize:30,marginTop:5}})),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{style:{fontSize:30}},"VALORES")),r.a.createElement("div",{className:"offset-md-2 col-md-10"},r.a.createElement("div",null,r.a.createElement(cn.a,null)," ",r.a.createElement("span",{style:{color:"black"}},"Simplicidade")),r.a.createElement("div",null,r.a.createElement(cn.a,null)," ",r.a.createElement("span",{style:{color:"black"}},"Tecnol\xf3gica")),r.a.createElement("div",null,r.a.createElement(cn.a,null)," ",r.a.createElement("span",{style:{color:"black"}},"Para Pessoas")),r.a.createElement("div",null,r.a.createElement(cn.a,null)," ",r.a.createElement("span",{style:{color:"black"}},"Aten\xe7\xe3o aos dados")),r.a.createElement("div",null,r.a.createElement(cn.a,null)," ",r.a.createElement("span",{style:{color:"black"}},"Data Driver")),r.a.createElement("div",null,r.a.createElement(cn.a,null)," ",r.a.createElement("span",{style:{color:"black"}},"Beta Forever")),r.a.createElement("div",null,r.a.createElement(cn.a,null)," ",r.a.createElement("span",{style:{color:"black"}},"Agilidade"))))))),r.a.createElement("div",{ref:this.examsRef},r.a.createElement(an.a,{className:"slider-wrapper"},[{title:"EXAMES",description:"HEMATOL\xd3GICOS",button:"AGENDAR",image:"/img/carousel2.jpg"}].map(function(e,t){return r.a.createElement("div",{key:t,className:"slider-content",style:{background:"url('".concat(e.image,"') no-repeat center center")}},r.a.createElement("div",{className:"inner",style:{textAlign:"right"}},r.a.createElement("div",{className:"carousel-title"},e.title),r.a.createElement("div",{className:"carousel-description"},r.a.createElement("strong",null,e.description)),r.a.createElement("div",{className:"offset-md-5 col-md-7"},r.a.createElement("div",{style:{color:"white",fontSize:20}},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut commodo consequat. nulla pariatur."))))}))),r.a.createElement("div",{ref:this.partnersRef,style:{minHeight:500,width:"100%",padding:40}},r.a.createElement("div",{className:"row",style:{width:"100%"}},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("center",null,r.a.createElement("h1",{style:{margin:"\x1cauto",fontSize:50,marginBottom:40,color:"#0188FE"}},"PARCEIROS")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#0188FE",borderRadius:90,padding:30,color:"white"}},"Logo")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#0188FE",borderRadius:90,padding:30,color:"white"}},"Logo")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#0188FE",borderRadius:90,padding:30,color:"white"}},"Logo")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#0188FE",borderRadius:90,padding:30,color:"white"}},"Logo"))),r.a.createElement("div",{className:"row",style:{marginTop:20}},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#0188FE",borderRadius:90,padding:30,color:"white"}},"Logo")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#0188FE",borderRadius:90,padding:30,color:"white"}},"Logo")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#0188FE",borderRadius:90,padding:30,color:"white"}},"Logo")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#0188FE",borderRadius:90,padding:30,color:"white"}},"Logo")))),r.a.createElement("div",{ref:this.contactRef,style:{minHeight:500,backgroundColor:"#0188FE"}},r.a.createElement("div",{className:"row",style:{width:"100%"}},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("center",null,r.a.createElement("h1",{style:{margin:"\x1cauto",marginTop:60,fontSize:50,color:"white"}},"CONTATO")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12",style:{padding:50}},r.a.createElement("div",{style:{backgroundColor:"white",borderRadius:30,padding:50,margin:100,marginTop:10}},r.a.createElement("input",{style:{width:"100%",marginBottom:20,borderRadius:30,borderWidth:7,borderColor:"#0188FE",padding:10},placeholder:"Nome completo",id:"name",name:"name",value:this.state.name,onChange:this.handleInputChange}),this.state.errors&&this.state.errors.name&&r.a.createElement("p",{style:{color:"red",marginLeft:5}},this.state.errors.name),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6 col-lg-6 col-sm-12"},r.a.createElement("input",{style:{width:"100%",marginBottom:20,marginRight:10,borderRadius:30,borderWidth:7,borderColor:"#0188FE",padding:10},placeholder:"(85) 9 9999-8888",id:"phone",name:"phone",value:this.state.phone,onChange:this.handleInputChange}),this.state.errors&&this.state.errors.phone&&r.a.createElement("div",{style:{color:"red",marginLeft:5,width:"48%"}},this.state.errors.phone)),r.a.createElement("div",{class:"col-md-6 col-lg-6 col-sm-12"},r.a.createElement("input",{style:{width:"100%",marginBottom:20,borderRadius:30,borderWidth:7,borderColor:"#0188FE",padding:10},placeholder:"a@a.com.br",id:"email",name:"email",value:this.state.email,onChange:this.handleInputChange}),this.state.errors&&this.state.errors.email&&r.a.createElement("span",{style:{color:"red",marginLeft:5,width:"50%"}},this.state.errors.email))),r.a.createElement("input",{style:{width:"100%",marginBottom:20,borderRadius:30,borderWidth:7,borderColor:"#0188FE",padding:10},placeholder:"Endere\xe7o completo (Rua, N\xfamero, Bairro)",id:"address",name:"address",value:this.state.address,onChange:this.handleInputChange}),this.state.errors&&this.state.errors.address&&r.a.createElement("p",{style:{color:"red",marginLeft:5}},this.state.errors.address),r.a.createElement("textarea",{rows:6,style:{width:"100%",marginBottom:20,borderRadius:30,borderWidth:7,borderColor:"#0188FE",padding:10},placeholder:"Mensagem",id:"message",name:"message",value:this.state.message,onChange:this.handleInputChange}),this.state.errors&&this.state.errors.message&&r.a.createElement("p",{style:{color:"red",marginLeft:5}},this.state.errors.message),r.a.createElement("center",null,!this.state.isSending&&r.a.createElement("button",{onClick:function(){e.sendEmail()},className:"button",disabled:this.state.sent},"ENVIAR "),this.state.isSending&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:30}},r.a.createElement(ht.a,null))))))),r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement("div",{className:"row",style:{color:"#0188FE",fontSize:20,paddingTop:40,paddingBottom:40}},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-md-2 col-md-8"},r.a.createElement("img",{src:"/img/logo_blue.png",height:100}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("center",null,r.a.createElement("div",{style:{height:"100%",width:5,backgroundColor:"#0188FE"}}))),r.a.createElement("div",{className:"col-md-10",style:{marginTop:20}},r.a.createElement("div",null,"Conhe\xe7a a Parapeti"),r.a.createElement("div",null,"Como funcionam os exames?"),r.a.createElement("div",null,"Nossos parceiros"),r.a.createElement("div",null,"Consulte seu exame")))),r.a.createElement("div",{class:" offset-md-1 col-md-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{style:{fontSize:25,marginTop:50,marginBottom:20}},r.a.createElement("strong",null,"CONTATO")),r.a.createElement("div",{style:{marginTop:10}},"+55 85 9999-9999"),r.a.createElement("div",{style:{marginTop:10}},"parapeticontato@gmail.com"),r.a.createElement("div",{style:{marginTop:10}},"Rua xxxxx, 000 - Fortaleza, CE."),r.a.createElement("div",{style:{marginTop:10}},"CEP: 00000-000")))),r.a.createElement("div",{class:"col-md-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{style:{fontSize:25,marginTop:50,marginBottom:20}},r.a.createElement("strong",null,"REDES SOCIAIS")),r.a.createElement("div",null,r.a.createElement("a",{href:"#",style:{fontSize:40,marginRight:10}},r.a.createElement("i",{class:"fab fa-instagram"})),r.a.createElement("a",{href:"#",style:{fontSize:40,marginRight:10}},r.a.createElement("i",{class:"fab fa-facebook-square"})),r.a.createElement("a",{href:"#",style:{fontSize:40,marginRight:10}},r.a.createElement("i",{class:"fab fa-twitter"})),r.a.createElement("a",{href:"#",style:{fontSize:40,marginRight:10}},r.a.createElement("i",{class:"fab fa-linkedin"})))))))))}}]),t}(n.Component),hn=Object(d.b)(function(e){return{auth:e.auth}})(un),pn=a(267),gn=a(230);U.a.config();var fn=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(ge.a)(this,Object(fe.a)(t).call(this,e))).state={password:"",confirmPassword:"",message:!1,errors:!1,isFetching:!1,passwordReseted:!1},a.handleSubmit=a.handleSubmit.bind(Object(Ee.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(Ee.a)(a)),a}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.password&&this.state.password.length<6)this.setState({errors:"A senha deve ter m\xednimo 6 carateres"});else if(this.state.password!=this.state.confirmPassword)this.setState({erros:"A senhas digitadas n\xe3o coincidem"});else{this.setState({isFetching:!0});var a="http://3.19.35.106:4444/api/users/reset_password/";2==this.props.location.search.split("=").length&&(a+="token/"+this.props.location.search.split("=")[1]),te.a.post(a,{password:this.state.password,confirmPassword:this.state.confirmPassword}).then(function(e){t.setState({message:e.data.msg,errors:!1,isFetching:!1,passwordReseted:!0})}).catch(function(e){t.setState({errors:JSON.stringify(e.response.data.msg),isFetching:!1})})}}},{key:"handleInputChange",value:function(e){this.setState(Object(be.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(ut.a,{item:!0,xs:6},r.a.createElement(lt.a,{style:{width:"100%"}},r.a.createElement(dt.a,null,r.a.createElement(mt.a,{color:"textSecondary",gutterBottom:!0},"Vets"),r.a.createElement(mt.a,{variant:"h5",component:"h2"},"Resetar Senha"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(rt.a,{fullWidth:!0},r.a.createElement(it.a,{htmlFor:"password"},"Senha"),r.a.createElement(st.a,Object(be.a)({type:"password",id:"password",value:this.state.password,name:"password",onChange:this.handleInputChange,"aria-describedby":"password-text"},"onChange",this.handleInputChange))),r.a.createElement(rt.a,{fullWidth:!0},r.a.createElement(it.a,{htmlFor:"confirmPassword"},"Confirmar Senha"),r.a.createElement(st.a,Object(be.a)({type:"password",id:"confirmPassword",value:this.state.confirmPassword,name:"confirmPassword",onChange:this.handleInputChange,"aria-describedby":"confirmPassword-text"},"onChange",this.handleInputChange)),this.state.errors&&r.a.createElement(ot.a,{id:"confirmPassword-text",style:{color:"red"}},this.state.errors),this.state.message&&r.a.createElement(ot.a,{id:"confirmPassword-text",style:{color:"green"}},this.state.message)),r.a.createElement(ct.a,null,this.state.isFetching&&r.a.createElement(ut.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:30},fullWidth:!0},r.a.createElement(ht.a,null)),!this.state.isFetching&&r.a.createElement(Oe.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",disabled:this.state.passwordReseted},"Redefinir Senha")))))))}}]),t}(n.Component),En=function(e){function t(){return Object(he.a)(this,t),Object(ge.a)(this,Object(fe.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"blue",marginTop:100}},"Partners Component")}}]),t}(n.Component);if(localStorage.jwtToken){de(localStorage.jwtToken);var vn=ce()(localStorage.jwtToken);oe.dispatch(me(vn));var bn=Date.now()/1e3;vn.exp<bn&&(oe.dispatch(ue()),window.location.href="/login")}var yn=function(){var e=Object(n.useState)({typography:{fontFamily:"Open Sans",fontSize:14,fontWeightLight:100,fontWeightRegular:400,fontWeightMedium:500},palette:{type:"light",primary:{main:"#0188FE"},secondary:{main:"#F7F8F9"},accent:{main:"#E33E7F"},background:{default:"#e6e6e6"}}}),t=Object(o.a)(e,2),a=t[0],i=(t[1],Object(pn.a)(a));return r.a.createElement(d.a,{store:oe},r.a.createElement(gn.a,{theme:i},r.a.createElement(Fe.a,null),r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(Ja,{theme:i}),r.a.createElement("div",{style:{marginLeft:0}},r.a.createElement(c.a,{exact:!0,path:"/login",component:en}),r.a.createElement(c.a,{exact:!0,path:"/",component:hn}),r.a.createElement(c.a,{exact:!0,path:"/partners",component:En}),r.a.createElement(c.a,{exact:!0,path:"/forgot_password",component:Xa}),r.a.createElement(c.a,{exact:!0,path:"/reset_password",component:fn}),r.a.createElement(c.a,{exact:!0,path:"/users",component:Rt}),r.a.createElement(c.a,{exact:!0,path:"/profile",component:Ut}),r.a.createElement(c.a,{exact:!0,path:"/exams",component:ua}),r.a.createElement(c.a,{exact:!0,path:"/add_admin_exams",component:Wa}),r.a.createElement(c.a,{exact:!0,path:"/admin_exams",component:Ca}),r.a.createElement(c.a,{exact:!0,path:"/register",component:ft}))))))},Sn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Cn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(yn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Sn?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Cn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Cn(e)})}}()}},[[287,1,2]]]);
//# sourceMappingURL=main.6000fcfe.chunk.js.map